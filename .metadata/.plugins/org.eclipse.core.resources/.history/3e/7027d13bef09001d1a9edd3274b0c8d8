
#include <stdio.h>
#include <math.h>
#include "Motor.h"
#include "use.h"

Drv8302 drive;
EncoderSPI encoder;
Motor bldc_motor = Motor(&drive, &encoder);

extern void setup(void){
	bldc_motor.init();

	start_timer_adc_it();
	start_timer_control_it();
}

extern void loop(void)
{
	bldc_motor.loop();
}

extern void motor_handle(void){
	bldc_motor.move();
}

extern void pwm_trig_adc_cb(void)
{
	bldc_motor.getAdcVoltage();
}

extern void warning_motor_handle(void){
	bldc_motor.disable();
}

