#include <Drive.h>
#include "Defaults.h"
#include "Config.h"

Drive::Drive(void){
#ifndef DEF_PWM_LIM
	#error "don't define the pwm range"
#endif
}

void Drive::setVoltage(int16_t pwm){
	uint16_t abs_pwm;
	if (pwm < 0){
		IN1_ON();
		IN2_OFF();
		abs_pwm = -pwm;
	}
	else{
		IN1_OFF();
		IN2_ON();
		abs_pwm = pwm;
	}
	tim_pwm_set_value(abs(pwm));
}

