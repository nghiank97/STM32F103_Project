
#include "adc.h"

void AdcInit(){

/*
 * enable clock for gpioa.0
 * enable clock for adc
 * gpioa.0 configurature analog input
 * continuous mode
 *
 */

/*	 enable clock for gpioa.0
	 enable clock for adc
	 gpioa.0 configurature analog input
	 continuous mode
	 align right
	 1 conversion
	 */

	// enable clock for gpioa.0
	RCC->APB2ENR |= RCC_APB2ENR_IOPAEN;
	// enable clock for adc
	RCC->APB2ENR |= RCC_APB2ENR_ADC1EN;
	// gpioa.0 configurature analog input
	GPIOA->CRL &=~ (0x1111<<0);

	ADC1->CR1 |= (0110<<16);
	// continuous mode
	ADC1->CR2 |= ADC_CR2_CONT;
	// align right
	ADC1->CR2 |= (0<<11);
	// 1 conversion
	ADC1->SQR3 |= (0000<<0);
	ADC1->CR1 |= (0000<<0);
}

void AdcGet(){

}
